(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[7],{

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MessageBar/index.scss":
/*!******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/MessageBar/index.scss ***!
  \******************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".message-bar {\n  position: fixed;\n  top: -40px;\n  left: 0;\n  height: 40px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #0C7C59;\n  color: #bac1b8;\n  z-index: 400;\n}\n.message-bar.active {\n  top: 0;\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/createTrail.scss":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/MyTrails/createTrail.scss ***!
  \**********************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "@font-face {\n  font-family: \"orkneyregular\";\n  src: url(\"/fonts/Orkney Regular.woff2\") format(\"woff2\"), url(\"/fonts/Orkney Regular.woff\") format(\"woff\");\n  font-weight: normal;\n  font-style: normal;\n}\n@font-face {\n  font-family: \"orkneybold\";\n  src: url(\"/fonts/Orkney Bold.woff2\") format(\"woff2\"), url(\"/fonts/Orkney Bold.woff\") format(\"woff\");\n  font-weight: normal;\n  font-style: normal;\n}\nh1, h2, h3, h4, h5, h6 {\n  margin: 0;\n  font-family: \"orkneybold\";\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\nfigcaption {\n  width: 100%;\n  font-style: italic;\n  font-size: 12px;\n  color: gray;\n  margin: 8px 0 0 16px;\n}\nfigcaption a {\n  text-decoration: underline;\n}\n\ncaption {\n  width: 100%;\n  color: gray;\n  font-size: 12px;\n  display: block;\n}\n\n.create-trail-wrapper {\n  display: grid;\n  grid-template-columns: 1fr;\n}\n.create-trail-wrapper input {\n  width: 350px;\n}\n.create-trail-wrapper .text-section {\n  padding: 12px 0;\n  border-bottom: 1px solid gray;\n  margin-bottom: 0;\n}\n.create-trail-wrapper .text-section h6 {\n  margin-bottom: 8px;\n}\n.create-trail-wrapper .create-section {\n  padding: 12px 0;\n  border-bottom: 1px solid gray;\n  margin-bottom: 0;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 36px;\n}\n.create-trail-wrapper .create-section .input-section {\n  width: 100%;\n}\n.create-trail-wrapper h5 {\n  margin-bottom: 8px;\n}\n\n.input-status-wrapper {\n  display: flex;\n}\n.input-status-wrapper input[type=text] {\n  border: 1px solid #2B303A;\n  border-right: 0;\n  border-radius: 0 2px 2px 0;\n}\n\ntextarea {\n  width: 100%;\n  height: 150px;\n}\n\n.ReactTags__tag {\n  background: #0C7C59;\n  padding: 4px;\n  border-radius: 2px;\n  margin-right: 8px;\n  color: #fff;\n  margin-bottom: 8px;\n  display: inline-block;\n}\n\n.ReactTags__remove {\n  margin-left: 8px;\n}\n\n.upload-buttons-container {\n  display: flex;\n  margin-bottom: 16px;\n}\n\n.button-wrapper {\n  display: grid;\n  margin: 36px 0;\n}\n@media (min-width: 768px) {\n  .button-wrapper {\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 24px;\n  }\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/previewMap.scss":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/MyTrails/previewMap.scss ***!
  \*********************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".create-preview-map {\n  width: 300px;\n  height: 300px;\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/stravaButton.scss":
/*!***********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/MyTrails/stravaButton.scss ***!
  \***********************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "button.strava-button {\n  background-image: url(/images/btn_strava_connectwith_orange.svg);\n  width: 185px;\n  height: 40px;\n  background-size: 185px 40px;\n  background-color: inherit;\n  margin-left: 8px;\n}\nbutton.strava-button:focus {\n  outline: none;\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/stravaRouteList.scss":
/*!**************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/MyTrails/stravaRouteList.scss ***!
  \**************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".strava-routes li {\n  -webkit-animation: slideDown 0.5s ease;\n          animation: slideDown 0.5s ease;\n  margin-left: 0;\n  width: 100%;\n  position: relative;\n}\n.strava-routes li > p {\n  padding-right: 64px;\n}\n.strava-routes p {\n  margin: 0;\n}\n\n.select-route {\n  position: absolute;\n  top: 7px;\n  right: 7px;\n  padding: 4px 8px;\n  display: flex;\n}\n.select-route p {\n  height: 16px;\n  padding: 0;\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/uploadSection.scss":
/*!************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/MyTrails/uploadSection.scss ***!
  \************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".buttons {\n  display: flex;\n}\n\n.page-number {\n  height: 40px;\n  width: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/common/form/imageupload.scss":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/common/form/imageupload.scss ***!
  \*************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".drag-area {\n  width: 100%;\n  height: 75px;\n  border: 3px dashed #0C7C59;\n  border-radius: 3px;\n  margin: 12px 0;\n  background-color: #EFEFEF;\n  color: #2B303A;\n}\n\n.remove-images-button {\n  padding: 0;\n  background: inherit;\n  color: #0C7C59;\n  border: 0;\n  text-decoration: underline;\n}\n\n.image-item {\n  max-width: 100px;\n  position: relative;\n  height: 100px;\n}\n.image-item__btn-wrapper {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: #fff;\n}\n.image-item img {\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n.image-item .remove-button {\n  height: 0;\n  border: 0;\n}\n\n.image-preview-area {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 10px;\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/common/form/inputStatus.scss":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/common/form/inputStatus.scss ***!
  \*************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".status-container {\n  border: 1px solid #2B303A;\n  border-width: 1px 1px 1px 0;\n  border-radius: 0 2px 2px 0;\n  height: 32px;\n  width: 32px;\n  background: #fff;\n}\n\n.status-valid {\n  display: inline-block;\n  transform: rotate(45deg);\n  height: 25px;\n  width: 12px;\n  margin-left: 10px;\n  border-bottom: 7px solid #78b13f;\n  border-right: 7px solid #78b13f;\n}\n\n.status-pending {\n  border-radius: 50%;\n  border: 3px solid orange;\n  height: 22px;\n  width: 22px;\n  margin-top: 4px;\n  margin-left: 4px;\n  border-left-color: white;\n  -webkit-animation: infinite-spinning 2s infinite;\n          animation: infinite-spinning 2s infinite;\n}\n\n.status-error {\n  position: relative;\n  /* right: 32px; */\n  /* top: 32px; */\n  width: 32px;\n  height: 32px;\n  opacity: 0.3;\n}\n\n.status-error:before, .status-error:after {\n  position: absolute;\n  left: 15px;\n  content: \" \";\n  height: 30px;\n  width: 4px;\n  background-color: #d64933;\n}\n\n.status-error:before {\n  transform: rotate(45deg);\n}\n\n.status-error:after {\n  transform: rotate(-45deg);\n}\n\n@-webkit-keyframes infinite-spinning {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes infinite-spinning {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/common/youtube.scss":
/*!****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/common/youtube.scss ***!
  \****************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".video-container {\n  margin-top: 24px;\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-bottom: 56.25%;\n}\n.video-container iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.create-section .video-container {\n  -webkit-animation: slideDown 0.5s ease;\n          animation: slideDown 0.5s ease;\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/loader/loader.scss":
/*!***************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--7-2!./node_modules/sass-loader/dist/cjs.js??ref--7-3!./resources/js/components/loader/loader.scss ***!
  \***************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".loadcontainer {\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: center;\n}\n\n.bar {\n  width: 50%;\n  height: 20px;\n  border: 1px solid #2980b9;\n  border-radius: 3px;\n  background-image: repeating-linear-gradient(-45deg, #2980b9, #2980b9 11px, #eee 10px, #eee 20px);\n  background-size: 28px 28px;\n  -webkit-animation: move 0.5s linear infinite;\n          animation: move 0.5s linear infinite;\n}\n\n@-webkit-keyframes move {\n  0% {\n    background-position: 0 0;\n  }\n  100% {\n    background-position: 28px 0;\n  }\n}\n\n@keyframes move {\n  0% {\n    background-position: 0 0;\n  }\n  100% {\n    background-position: 28px 0;\n  }\n}", ""]);

// exports


/***/ }),

/***/ "./resources/images/mapmarkers/crosshair.svg":
/*!***************************************************!*\
  !*** ./resources/images/mapmarkers/crosshair.svg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/images/crosshair.svg?ecf3069a29b25dd2040da756f882757d";

/***/ }),

/***/ "./resources/images/mapmarkers/endflag.svg":
/*!*************************************************!*\
  !*** ./resources/images/mapmarkers/endflag.svg ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/images/endflag.svg?9e63e156ad7baef770662c85ad851070";

/***/ }),

/***/ "./resources/images/mapmarkers/startflag.svg":
/*!***************************************************!*\
  !*** ./resources/images/mapmarkers/startflag.svg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/images/startflag.svg?c10530f310f559392b32dd257764b1ce";

/***/ }),

/***/ "./resources/js/components/MessageBar/index.js":
/*!*****************************************************!*\
  !*** ./resources/js/components/MessageBar/index.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./resources/js/components/MessageBar/index.scss");
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);



var MessageBar = function MessageBar(_ref) {
  var message = _ref.message,
      active = _ref.active;
  {
    return message ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "active message-bar"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", null, message)) : null;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (MessageBar);

/***/ }),

/***/ "./resources/js/components/MessageBar/index.scss":
/*!*******************************************************!*\
  !*** ./resources/js/components/MessageBar/index.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../node_modules/css-loader!../../../../node_modules/postcss-loader/src??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./index.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MessageBar/index.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/components/MyTrails/CreateTrail.js":
/*!*********************************************************!*\
  !*** ./resources/js/components/MyTrails/CreateTrail.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _translations_translator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../translations/translator */ "./resources/js/translations/translator.js");
/* harmony import */ var _utils_slugify__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/slugify */ "./resources/js/utils/slugify.js");
/* harmony import */ var _createTrail_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./createTrail.scss */ "./resources/js/components/MyTrails/createTrail.scss");
/* harmony import */ var _createTrail_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_createTrail_scss__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _TagsArea__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TagsArea */ "./resources/js/components/MyTrails/TagsArea.js");
/* harmony import */ var _utils_debounce__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/debounce */ "./resources/js/utils/debounce.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _common_form_InputStatus__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/form/InputStatus */ "./resources/js/components/common/form/InputStatus.jsx");
/* harmony import */ var _common_form_ImageUpload__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/form/ImageUpload */ "./resources/js/components/common/form/ImageUpload.js");
/* harmony import */ var _utils_setGpx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/setGpx */ "./resources/js/utils/setGpx.js");
/* harmony import */ var _auth_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../auth/api */ "./resources/js/auth/api.js");
/* harmony import */ var google_polyline__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! google-polyline */ "./node_modules/google-polyline/lib/polyline.js");
/* harmony import */ var google_polyline__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(google_polyline__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _utils_youtubeVerify__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/youtubeVerify */ "./resources/js/utils/youtubeVerify.js");
/* harmony import */ var react_scroll__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-scroll */ "./node_modules/react-scroll/modules/index.js");
/* harmony import */ var react_scroll__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react_scroll__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _common_Youtube__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../common/Youtube */ "./resources/js/components/common/Youtube.jsx");
/* harmony import */ var _UploadSection__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./UploadSection */ "./resources/js/components/MyTrails/UploadSection.js");
/* harmony import */ var _MessageBar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../MessageBar */ "./resources/js/components/MessageBar/index.js");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }




















var TrailEditor = function TrailEditor(_ref) {
  var location = _ref.location;

  // console.log()
  // console.log(lo);
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])({
    title: "",
    activity: "mtb",
    difficulty: 1,
    youtube_link: "",
    summary: "",
    description: "",
    strava_link: "",
    gpx: "",
    status: "new",
    // tags: "",
    // route:[]
    coords: []
  }),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
      createTrail = _useState2[0],
      setCreateTrail = _useState2[1]; // const [slugError, setSlugError] = useState("");


  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])([]),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
      stravaRoutes = _useState4[0],
      setStravaRoutes = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
      stravaLoading = _useState6[0],
      setStravaLoading = _useState6[1];

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState([]),
      _React$useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_React$useState, 2),
      images = _React$useState2[0],
      setImages = _React$useState2[1];

  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(""),
      _React$useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_React$useState3, 2),
      message = _React$useState4[0],
      setMessage = _React$useState4[1];

  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState({
    tags: [],
    suggestions: [] // suggestions: [{ id: "Yorkshire", text: "Yorkshire" }]

  }),
      _React$useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_React$useState5, 2),
      tagsArea = _React$useState6[0],
      setTagArea = _React$useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(true),
      _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),
      loading = _useState8[0],
      setLoading = _useState8[1];

  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(null),
      _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState9, 2),
      slugStatus = _useState10[0],
      setSlugStatus = _useState10[1];

  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(null),
      _useState12 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState11, 2),
      videoStatus = _useState12[0],
      setVideoStatus = _useState12[1]; // const [createTrail, setcreateTrail] = useState({route:[]});


  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    var id = location.state ? location.state.id : null;

    if (id) {
      setLoading(true);
      _auth_api__WEBPACK_IMPORTED_MODULE_12__["getTrailById"](id).then(function (res) {
        setCreateTrail(function (state) {
          return _objectSpread(_objectSpread(_objectSpread({}, state), res.data.trail), {}, {
            coords: JSON.parse(res.data.trail.coords),
            slug: Object(_utils_slugify__WEBPACK_IMPORTED_MODULE_4__["slugify"])(decodeURIComponent(res.data.trail.title))
          });
        });

        if (Object(_utils_youtubeVerify__WEBPACK_IMPORTED_MODULE_14__["youtube_id"])(decodeURIComponent(res.data.trail.youtube_link))) {
          setVideoStatus("success");
        }

        setTagArea(function (state) {
          return _objectSpread(_objectSpread({}, state), {}, {
            tags: res.data.tags.map(function (tag) {
              return {
                id: tag,
                text: tag
              };
            }) // tags:[{ id: "Yorkshire", text: "Yorkshire" }],

          });
        });
        var formattedImgs = res.data.images.map(function (image) {
          return {
            data_url: image
          };
        });
        setImages(formattedImgs);
        setLoading(false);
      });
    } else {
      setLoading(false);
    }
  }, []);

  var onImageChange = function onImageChange(imageList, addUpdateIndex) {
    console.log(imageList);
    setImages(imageList);

    handleInputChange = function handleInputChange(e) {
      var videos = []; // Read each video from the input

      imageList.foreach(function (file, index) {
        var reader = new FileReader();

        reader.onload = function () {
          // add the file to the array
          videos.push(reader.result);
        };

        reader.readAsDataURL(file);
      }); // setImages(videos);
      // this.setState({
      //     videos: videos
      // });
    };
  };

  var handleGpxFile = function handleGpxFile(gpxFile) {
    console.log('gpx file hit');
    console.log(gpxFile); // setCreateTrail();

    setCreateTrail(function (state) {
      return _objectSpread(_objectSpread(_objectSpread({}, state), Object(_utils_setGpx__WEBPACK_IMPORTED_MODULE_11__["setGpx"])(gpxFile)), {}, {
        gpx: gpxFile
      });
    });
  };

  var handleStravaRoute = function handleStravaRoute(route) {
    var summary_polyline = route.map.summary_polyline;
    var coords = google_polyline__WEBPACK_IMPORTED_MODULE_13___default.a.decode(summary_polyline);

    var stravaCreateTrail = _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({
      coords: coords,
      time: route.moving_time,
      ascent: route.total_elevation_gain,
      descent: route.total_elevation_gain
    }, "time", route.distance);

    setCreateTrail(function (state) {
      return _objectSpread(_objectSpread({}, state), stravaCreateTrail);
    });
    var stravaTrailData = {
      strava_link: route.id
    };
    setCreateTrail(function (state) {
      return _objectSpread(_objectSpread({}, state), stravaTrailData);
    });
    react_scroll__WEBPACK_IMPORTED_MODULE_15__["animateScroll"].scrollTo(400);
  };

  var handleSubmit = function handleSubmit(status) {
    var trail = {
      activity: createTrail.activity,
      ascent: createTrail.ascent,
      coords: JSON.stringify(createTrail.coords),
      distance: createTrail.distance,
      descent: createTrail.descent,
      description: createTrail.description,
      difficulty: createTrail.difficulty,
      gpx: createTrail.gpx,
      hire_centre: null,
      images: images.map(function (image) {
        return image.data_url;
      }),
      slug: createTrail.slug,
      strava_link: createTrail.strava_link,
      summary: createTrail.summary,
      tags: tagsArea.tags.map(function (tag) {
        return Object(_utils_slugify__WEBPACK_IMPORTED_MODULE_4__["slugify"])(tag.text);
      }),
      time: createTrail.time,
      title: createTrail.title,
      youtube_link: createTrail.youtube_link,
      status: status,
      id: createTrail.id
    };
    console.log('-=-=-=-=-=');
    console.log(trail);
    _auth_api__WEBPACK_IMPORTED_MODULE_12__["submitRoute"](trail).then(function (res) {
      setMessage("Trail Saved");
      setCreateTrail(function (state) {
        return _objectSpread(_objectSpread({}, state), {}, {
          id: res.data.id
        });
      });
      setTimeout(function () {
        setMessage("");
      }, 1000);
    });
  };

  var debounceOnChange = react__WEBPACK_IMPORTED_MODULE_2___default.a.useCallback(Object(_utils_debounce__WEBPACK_IMPORTED_MODULE_7__["debounce"])(function (e) {
    return handleSlugVerification(e);
  }, 1000), []);
  var debounceVideo = react__WEBPACK_IMPORTED_MODULE_2___default.a.useCallback(Object(_utils_debounce__WEBPACK_IMPORTED_MODULE_7__["debounce"])(function (e) {
    return handleVideoValidation(e);
  }, 1000), []);

  var handleVideoValidation = function handleVideoValidation(value) {
    var regex = /(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|vi|e(?:mbed)?)\/|\S*?[?&]v=|\S*?[?&]vi=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/; // const match = fullUrl.match(regex)

    var match = regex.test(value);
    setVideoStatus(match ? "success" : "error");
  };

  var handleSlugVerification = function handleSlugVerification(slug) {
    setSlugStatus("loading");
    axios__WEBPACK_IMPORTED_MODULE_8___default.a.get("/api/trail/slugverification/".concat(slug)).then(function (res) {
      res.data ? setSlugStatus("error") : setSlugStatus("success");
    })["catch"](function (e) {
      setSlugStatus("error");
    });
  };

  var handleChange = function handleChange(e) {
    var _e$target = e.target,
        name = _e$target.name,
        value = _e$target.value;
    name === "title" ? handleSlugChange(name, value) : setCreateTrail(function (state) {
      return _objectSpread(_objectSpread({}, state), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, name, encodeURIComponent(value)));
    });
  };

  var handleSlugChange = function handleSlugChange(name, value) {
    debounceOnChange(value);
    setCreateTrail(function (state) {
      var _objectSpread3;

      return _objectSpread(_objectSpread({}, state), {}, (_objectSpread3 = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_objectSpread3, name, encodeURIComponent(value)), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_objectSpread3, "slug", encodeURIComponent(Object(_utils_slugify__WEBPACK_IMPORTED_MODULE_4__["slugify"])(value))), _objectSpread3));
    });
  };

  var handleVideoChange = function handleVideoChange(e) {
    var _e$target2 = e.target,
        name = _e$target2.name,
        value = _e$target2.value;
    debounceVideo(value);
    setCreateTrail(function (state) {
      return _objectSpread(_objectSpread({}, state), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, name, encodeURIComponent(value)));
    });
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "create-trail-wrapper"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_MessageBar__WEBPACK_IMPORTED_MODULE_18__["default"], {
    message: message
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3", null, Object(_translations_translator__WEBPACK_IMPORTED_MODULE_3__["__"])("Create a trail")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: "create-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h5", null, Object(_translations_translator__WEBPACK_IMPORTED_MODULE_3__["__"])("Choose a name for your trail")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-status-wrapper"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
    type: "text",
    name: "title",
    onChange: function onChange(e) {
      return handleChange(e);
    },
    value: createTrail.title ? decodeURIComponent(createTrail.title) : "",
    placeholder: "Trail Title"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_common_form_InputStatus__WEBPACK_IMPORTED_MODULE_9__["default"], {
    status: slugStatus
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h6", null, "Trail Names must be unique"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, "url will be https://www.trailshub.com/".concat(Object(_utils_slugify__WEBPACK_IMPORTED_MODULE_4__["slugify"])(decodeURIComponent(createTrail.title))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
    type: "hidden",
    name: "slug",
    onChange: function onChange(e) {
      return handleChange(e);
    },
    value: Object(_utils_slugify__WEBPACK_IMPORTED_MODULE_4__["slugify"])(createTrail.title)
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "create-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_UploadSection__WEBPACK_IMPORTED_MODULE_17__["default"], {
    createTrail: createTrail,
    setCreateTrail: setCreateTrail,
    handleGpxFile: handleGpxFile,
    setStravaRoutes: setStravaRoutes,
    setStravaLoading: setStravaLoading,
    stravaLoading: stravaLoading,
    stravaRoutes: stravaRoutes,
    handleStravaRoute: handleStravaRoute,
    loading: loading
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h6", null, "Please upload your trail. You can do this by selecting one of your Strava routes, or uploading a GPX file")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: "create-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h5", null, "Youtube link"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-status-wrapper"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
    type: "text",
    name: "youtube_link",
    id: "youtube_link",
    onChange: function onChange(e) {
      return handleVideoChange(e);
    },
    placeholder: "e.g. https://www.youtube.com/watch?v=ustbfMr-3bc",
    value: createTrail.youtube_link ? decodeURIComponent(createTrail.youtube_link) : ""
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_common_form_InputStatus__WEBPACK_IMPORTED_MODULE_9__["default"], {
    status: videoStatus
  })), videoStatus === "success" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_common_Youtube__WEBPACK_IMPORTED_MODULE_16__["default"], {
    url: createTrail.youtube_link ? decodeURIComponent(createTrail.youtube_link) : ""
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h6", null, "All trails must include a video")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: "create-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h5", null, "Images"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_common_form_ImageUpload__WEBPACK_IMPORTED_MODULE_10__["default"], {
    onImageChange: onImageChange,
    images: images
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h6", null, "Image Uploads are optional, they will appear on your back, and also your trail thumbnail, if no images are supplied then we will use a still from your video as a thumbnail"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, "please format images as .jpg, .png or .gif"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, "You can include up to 12 images"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: "create-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h5", null, "Type of trail"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("select", {
    name: "activity",
    value: createTrail.activity ? decodeURIComponent(createTrail.activity) : "",
    onChange: function onChange(e) {
      return handleChange(e);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option", {
    value: "mtb"
  }, "Mountain Bike")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: "create-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h5", null, "Difficulty"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("select", {
    name: "difficulty",
    value: createTrail.difficulty ? decodeURIComponent(createTrail.difficulty) : "",
    onChange: function onChange(e) {
      return handleChange(e);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option", {
    value: 1
  }, "Easy"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option", {
    value: 2
  }, "Intermediate"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option", {
    value: 3
  }, "Hard"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option", {
    value: 4
  }, "Extreme"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("option", {
    value: 5
  }, "Family"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h6", null, "Please select the difficulty of this trail from Easy, Intermediate, Hard, Extreme or Family")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: "text-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h5", null, "Description"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h6", null, "The more detailed the description, the better your trail will rank in search engines, and the more views you will get"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("textarea", {
    type: "textarea",
    name: "description",
    id: "description",
    onChange: function onChange(e) {
      return handleChange(e);
    },
    value: createTrail.description ? decodeURIComponent(createTrail.description) : ""
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: "text-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h5", null, "Summary"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h6", null, "A single paragraph that described your trail"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("textarea", {
    type: "textarea",
    name: "summary",
    id: "summary",
    onChange: function onChange(e) {
      return handleChange(e);
    },
    value: createTrail.summary ? decodeURIComponent(createTrail.summary) : ""
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label", {
    className: "create-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "input-section"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h5", null, "Add some tags"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_TagsArea__WEBPACK_IMPORTED_MODULE_6__["default"], {
    tagsArea: tagsArea,
    setTagArea: setTagArea
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "button-wrapper"
  }, createTrail.status === "approved" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    type: "button",
    onClick: function onClick() {
      return handleSubmit("pending");
    }
  }, "Update Trail") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    type: "button",
    onClick: function onClick() {
      return handleSubmit("pending");
    }
  }, "Submit Live"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    type: "button",
    className: "secondary",
    onClick: function onClick() {
      return handleSubmit("draft");
    }
  }, "Save draft"))));
};

/* harmony default export */ __webpack_exports__["default"] = (TrailEditor);

/***/ }),

/***/ "./resources/js/components/MyTrails/PreviewMap.js":
/*!********************************************************!*\
  !*** ./resources/js/components/MyTrails/PreviewMap.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-leaflet */ "./node_modules/react-leaflet/es/index.js");
/* harmony import */ var _previewMap_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./previewMap.scss */ "./resources/js/components/MyTrails/previewMap.scss");
/* harmony import */ var _previewMap_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_previewMap_scss__WEBPACK_IMPORTED_MODULE_2__);


var style_id = "cka5ncmgs19io1io3qn27wejb";
var access_token = "pk.eyJ1Ijoid2lsbG1hZGQiLCJhIjoiY2thNW43amlvMDFteDNtcGEyMWpxeWwzcCJ9.wfx7i_G1rWq3roofKl7XhQ";

var startIcon = L.icon({
  iconRetinaUrl: __webpack_require__(/*! ../../../images/mapmarkers/startflag.svg */ "./resources/images/mapmarkers/startflag.svg"),
  iconUrl: __webpack_require__(/*! ../../../images/mapmarkers/startflag.svg */ "./resources/images/mapmarkers/startflag.svg"),
  // shadowUrl: require('leaflet/dist/images/marker-shadow.png')
  iconSize: [20, 20],
  // size of the icon
  iconAnchor: [3, 20]
});
var endIcon = L.icon({
  iconRetinaUrl: __webpack_require__(/*! ../../../images/mapmarkers/endflag.svg */ "./resources/images/mapmarkers/endflag.svg"),
  iconUrl: __webpack_require__(/*! ../../../images/mapmarkers/endflag.svg */ "./resources/images/mapmarkers/endflag.svg"),
  // shadowUrl: require('leaflet/dist/images/marker-shadow.png')
  iconSize: [20, 20],
  // size of the icon
  iconAnchor: [3, 20]
});
var crossIcon = L.icon({
  iconRetinaUrl: __webpack_require__(/*! ../../../images/mapmarkers/crosshair.svg */ "./resources/images/mapmarkers/crosshair.svg"),
  iconUrl: __webpack_require__(/*! ../../../images/mapmarkers/crosshair.svg */ "./resources/images/mapmarkers/crosshair.svg"),
  // shadowUrl: require('leaflet/dist/images/marker-shadow.png')
  iconSize: [20, 20],
  // size of the icon
  iconAnchor: [10, 10]
});

var PreviewMap = function PreviewMap(_ref) {
  var route = _ref.route;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_1__["Map"], {
    className: "create-preview-map",
    id: "mapid" // center={position}
    // zoom={mapControl.zoom}
    ,
    scrollWheelZoom: false,
    bounds: route
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_1__["TileLayer"], {
    attribution: "&copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors",
    url: "https://api.mapbox.com/styles/v1/willmadd/".concat(style_id, "/tiles/{z}/{x}/{y}?access_token=") + access_token
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_1__["Polyline"], {
    positions: route
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_1__["Marker"], {
    position: route[0],
    icon: startIcon
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_1__["Marker"], {
    position: route[route.length - 1],
    icon: endIcon
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (PreviewMap);

/***/ }),

/***/ "./resources/js/components/MyTrails/StravaButton.js":
/*!**********************************************************!*\
  !*** ./resources/js/components/MyTrails/StravaButton.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _stravaButton_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stravaButton.scss */ "./resources/js/components/MyTrails/stravaButton.scss");
/* harmony import */ var _stravaButton_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_stravaButton_scss__WEBPACK_IMPORTED_MODULE_2__);




var StravaButton = function StravaButton(_ref) {
  var setStravaRoutes = _ref.setStravaRoutes,
      setStravaLoading = _ref.setStravaLoading,
      page = _ref.page;
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    handleStravaButtonClick();
  }, [page]);

  var handleStravaButtonClick = function handleStravaButtonClick() {
    setStravaLoading(true);

    if (localStorage.getItem("trailshub:strava:access_token")) {
      var access_token = localStorage.getItem("trailshub:strava:access_token");
      getActivities(access_token).then(function (res) {
        var filtered = res.data.filter(function (route) {
          return route.map.summary_polyline;
        });
        setStravaRoutes(filtered);
        setStravaLoading(false);
      })["catch"](function (e) {
        console.log("error");
        console.log(e);

        if (localStorage.getItem("trailshub:strava:refresh_token")) {
          var refreshToken = localStorage.getItem("trailshub:strava:refresh_token");
          getNewAccessToken(refreshToken).then(function (res) {
            console.log(res);
            var newAccessToken = res.data.access_token;
            localStorage.setItem("trailshub:strava:access_token", newAccessToken);
            handleStravaButtonClick();
          });
        } else {
          openSignInWindow('strava');
        }
      }); // if(!success && localStorage.getItem("trailshub:strava:refresh_token")){
      // }
    } else {
      openSignInWindow('strava');
    }
  };

  var openSignInWindow = function openSignInWindow(name) {
    var url = "http://www.strava.com/oauth/authorize?client_id=57029&response_type=code&redirect_uri=http://localhost:8000/strava_auth&approval_prompt=force&scope=activity:read_all";
    var windowObjectReference = null;
    var previousUrl = null;
    window.removeEventListener("message", receiveMessage);
    var strWindowFeatures = "toolbar=no, menubar=no, width=600, height=700, top=100, left=100";

    if (windowObjectReference === null || windowObjectReference.closed) {
      windowObjectReference = window.open(url, name, strWindowFeatures);
    } else if (previousUrl !== url) {
      windowObjectReference = window.open(url, name, strWindowFeatures);
      windowObjectReference.focus();
    } else {
      windowObjectReference.focus();
    }

    window.addEventListener("message", function (event) {
      return receiveMessage(event);
    }, false);
    previousUrl = url;
  };

  var receiveMessage = function receiveMessage(event) {
    var regex = /(?<=code=).+.*?(?=\&)/;
    var token = event.data.match(regex)[0];
    var requestUl = "https://www.strava.com/oauth/token";
    var bodyFormData = new FormData();
    bodyFormData.append("client_id", "57029");
    bodyFormData.append("client_secret", "eb49b882ac23ed975c7b12273ed2eb38953a9d70");
    bodyFormData.append("code", token);
    bodyFormData.append("grant_type", "authorization_code");
    axios__WEBPACK_IMPORTED_MODULE_1___default()({
      method: "post",
      url: requestUl,
      data: bodyFormData,
      headers: {
        "Content-Type": "multipart/form-data"
      }
    }).then(function (res) {
      var _res$data = res.data,
          access_token = _res$data.access_token,
          refresh_token = _res$data.refresh_token;
      localStorage.setItem("trailshub:strava:access_token", access_token);
      localStorage.setItem("trailshub:strava:refresh_token", refresh_token);
      getActivities(access_token).then(function (res) {
        console.log(res);
        var filtered = res.data.filter(function (route) {
          return route.map.summary_polyline;
        });
        console.log(filtered);
        setStravaRoutes(filtered);
        setStravaLoading(false);
      });
    });
  };

  var getActivities = function getActivities(access_token) {
    return axios__WEBPACK_IMPORTED_MODULE_1___default.a.get("https://www.strava.com/api/v3/athlete/activities?access_token=".concat(access_token, "&page=").concat(page));
  };

  var getNewAccessToken = function getNewAccessToken(refreshToken) {
    var requestUl = "https://www.strava.com/oauth/token";
    var bodyFormData = new FormData();
    bodyFormData.append("client_id", "57029");
    bodyFormData.append("client_secret", "eb49b882ac23ed975c7b12273ed2eb38953a9d70");
    bodyFormData.append("refresh_token", refreshToken);
    bodyFormData.append("grant_type", "refresh_token");
    return axios__WEBPACK_IMPORTED_MODULE_1___default()({
      method: "post",
      url: requestUl,
      data: bodyFormData,
      headers: {
        "Content-Type": "multipart/form-data"
      }
    }); // return axios
    //     .get(
    //         `https://www.strava.com/api/v3/athlete/activities?access_token=${access_token}&page=${page}`
    //     )
  }; // const selectRoute = route => {
  //     const coords = polyline.decode(route.map.summary_polyline);
  //     // .map(pos => ({ lat: pos[0], lon: pos[1] }));
  //     console.log(coords);
  //     return {
  //         route: coords,
  //         time: route.moving_time,
  //         ascent: total_elevation_gain,
  //         distance
  //     };
  // };


  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    type: "button",
    onClick: function onClick() {
      return handleStravaButtonClick();
    },
    className: "strava-button"
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (StravaButton);

/***/ }),

/***/ "./resources/js/components/MyTrails/StravaRouteList.js":
/*!*************************************************************!*\
  !*** ./resources/js/components/MyTrails/StravaRouteList.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _stravaRouteList_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stravaRouteList.scss */ "./resources/js/components/MyTrails/stravaRouteList.scss");
/* harmony import */ var _stravaRouteList_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_stravaRouteList_scss__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../settings */ "./resources/settings.js");




var StravaRouteList = function StravaRouteList(_ref) {
  var stravaRoutes = _ref.stravaRoutes,
      selectStravaRoute = _ref.selectStravaRoute;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "route-list"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
    className: "strava-routes"
  }, stravaRoutes.length >= 0 && stravaRoutes.map(function (route) {
    var startDate = new Date(route.start_date);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      key: route.id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, startDate.toLocaleDateString("en-GB", _settings__WEBPACK_IMPORTED_MODULE_2__["default"].timeFormat), " - ", route.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "select-route secondary",
      type: "button",
      onClick: function onClick() {
        return selectStravaRoute(route);
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, 'Select')));
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (StravaRouteList);

/***/ }),

/***/ "./resources/js/components/MyTrails/TagsArea.js":
/*!******************************************************!*\
  !*** ./resources/js/components/MyTrails/TagsArea.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_tag_input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-tag-input */ "./node_modules/react-tag-input/dist-modules/components/ReactTags.js");
/* harmony import */ var react_tag_input__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_tag_input__WEBPACK_IMPORTED_MODULE_10__);









function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

// import React, { useState } from "react";
// import ReactDOM from "react-dom";
// import { WithContext as ReactTags } from "react-tag-input";
// const TagsArea = () => {
//     const KeyCodes = {
//         comma: 188,
//         enter: 13
//     };
//     const delimiters = [KeyCodes.comma, KeyCodes.enter];
//     const [suggestions, setSuggestions] = useState([
//         { id: "USA", text: "USA" },
//         { id: "Germany", text: "Germany" },
//         { id: "Austria", text: "Austria" },
//         { id: "Costa Rica", text: "Costa Rica" },
//         { id: "Sri Lanka", text: "Sri Lanka" },
//         { id: "Thailand", text: "Thailand" }
//     ]);
//     const [tags, setTags] = useState([
//         { id: "Thailand", text: "Thailand" },
//         { id: "India", text: "India" }
//     ]);
//     const handleDelete = i => {
//         setTags(tags.filter((tag, index) => index !== i));
//     };
//     const handleAddition = tag => {
//         setTags(prevState => ({
//             tags: [...prevState, tag]
//         }));
//     };
//     const handleDrag = (tag, currPos, newPos) => {
//         const tagsCopy = [...tags];
//         const newTags = tagsCopy.slice();
//         newTags.splice(currPos, 1);
//         newTags.splice(newPos, 0, tag);
//         setTags(newTags);
//     };
//     return (
//         <ReactTags
//             tags={tags}
//             suggestions={suggestions}
//             handleDelete={handleDelete}
//             handleAddition={handleAddition}
//             handleDrag={handleDrag}
//             delimiters={delimiters}
//         />
//     );
// };
// export default TagsArea;



var KeyCodes = {
  comma: 188,
  enter: 2,
  "return": 13
};
var delimiters = [KeyCodes.comma, KeyCodes.enter, KeyCodes["return"]];

var TagsArea = /*#__PURE__*/function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(TagsArea, _React$Component);

  var _super = _createSuper(TagsArea);

  function TagsArea(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, TagsArea);

    _this = _super.call(this, props); // this.state = {
    //     tags: [
    //         { id: 'Yorkshire', text: 'Yorkshire' },
    //      ],
    //     suggestions: [
    //         { id: 'Yorkshire', text: 'Yorkshire' },
    //      ]
    // };

    _this.handleDelete = _this.handleDelete.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    _this.handleAddition = _this.handleAddition.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    _this.handleDrag = _this.handleDrag.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(TagsArea, [{
    key: "handleDelete",
    value: function handleDelete(i) {
      var tags = this.props.tagsArea.tags;
      var setTagArea = this.props.setTagArea; // this.setState({
      //  tags: tags.filter((tag, index) => index !== i),
      // });

      var newTags = tags.filter(function (tag, index) {
        return index !== i;
      });
      setTagArea(function (prevState) {
        return _objectSpread(_objectSpread({}, prevState), {}, {
          tags: newTags
        });
      });
    }
  }, {
    key: "handleAddition",
    value: function handleAddition(tag) {
      var _this2 = this;

      var setTagArea = this.props.setTagArea;
      setTagArea(function (prevState) {
        return _objectSpread(_objectSpread({}, prevState), {}, {
          tags: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(_this2.props.tagsArea.tags), [tag])
        });
      });
    }
  }, {
    key: "handleDrag",
    value: function handleDrag(tag, currPos, newPos) {
      var setTagArea = this.props.setTagArea;

      var tags = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(this.props.tagsArea.tags);

      var newTags = tags.slice();
      newTags.splice(currPos, 1);
      newTags.splice(newPos, 0, tag); // re-render
      // this.setState({ tags: newTags });

      setTagArea(function (prevState) {
        return _objectSpread(_objectSpread({}, prevState), {}, {
          tags: newTags
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props$tagsArea = this.props.tagsArea,
          tags = _this$props$tagsArea.tags,
          suggestions = _this$props$tagsArea.suggestions;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_tag_input__WEBPACK_IMPORTED_MODULE_10__["WithContext"], {
        tags: tags,
        suggestions: suggestions,
        handleDelete: this.handleDelete,
        handleAddition: this.handleAddition,
        handleDrag: this.handleDrag,
        delimiters: delimiters,
        autofocus: false
      }));
    }
  }]);

  return TagsArea;
}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);

;
/* harmony default export */ __webpack_exports__["default"] = (TagsArea);

/***/ }),

/***/ "./resources/js/components/MyTrails/UploadSection.js":
/*!***********************************************************!*\
  !*** ./resources/js/components/MyTrails/UploadSection.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _StravaRouteList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StravaRouteList */ "./resources/js/components/MyTrails/StravaRouteList.js");
/* harmony import */ var _loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../loader */ "./resources/js/components/loader/index.js");
/* harmony import */ var _PreviewMap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PreviewMap */ "./resources/js/components/MyTrails/PreviewMap.js");
/* harmony import */ var _StravaButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./StravaButton */ "./resources/js/components/MyTrails/StravaButton.js");
/* harmony import */ var _common_form_dropzone__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/form/dropzone */ "./resources/js/components/common/form/dropzone.js");
/* harmony import */ var _uploadSection_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./uploadSection.scss */ "./resources/js/components/MyTrails/uploadSection.scss");
/* harmony import */ var _uploadSection_scss__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_uploadSection_scss__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_scroll__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-scroll */ "./node_modules/react-scroll/modules/index.js");
/* harmony import */ var react_scroll__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_scroll__WEBPACK_IMPORTED_MODULE_9__);



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }











var UploadSection = function UploadSection(_ref) {
  var createTrail = _ref.createTrail,
      handleGpxFile = _ref.handleGpxFile,
      setStravaRoutes = _ref.setStravaRoutes,
      setStravaLoading = _ref.setStravaLoading,
      stravaLoading = _ref.stravaLoading,
      stravaRoutes = _ref.stravaRoutes,
      handleStravaRoute = _ref.handleStravaRoute,
      loading = _ref.loading,
      setCreateTrail = _ref.setCreateTrail;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(1),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
      page = _useState2[0],
      setPage = _useState2[1];

  var newRoutes = function newRoutes(page) {
    react_scroll__WEBPACK_IMPORTED_MODULE_9__["animateScroll"].scrollTo(400);
    setPage(page);
  };

  console.log(createTrail);
  console.log(createTrail.coords);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h5", null, "Upload your trail"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "upload-buttons-container"
  }, !!createTrail.coords.length && !loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    className: "secondary",
    type: "button",
    onClick: function onClick() {
      return setCreateTrail(function (state) {
        return _objectSpread(_objectSpread({}, state), {}, {
          coords: [],
          distance: null,
          ascent: null,
          descent: null,
          time: null
        });
      });
    }
  }, "Remove File") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_common_form_dropzone__WEBPACK_IMPORTED_MODULE_7__["default"], {
    handleGpxFile: handleGpxFile
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_StravaButton__WEBPACK_IMPORTED_MODULE_6__["default"], {
    setStravaRoutes: setStravaRoutes,
    setStravaLoading: setStravaLoading,
    page: page
  }))), stravaLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_loader__WEBPACK_IMPORTED_MODULE_4__["default"], null), !stravaLoading && stravaRoutes.length >= 1 && !createTrail.coords.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_StravaRouteList__WEBPACK_IMPORTED_MODULE_3__["default"], {
    stravaRoutes: stravaRoutes,
    selectStravaRoute: handleStravaRoute,
    setPage: setPage,
    page: page
  }), !stravaLoading && stravaRoutes.length >= 1 && !createTrail.coords || page > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "buttons"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    type: "button",
    onClick: function onClick() {
      return newRoutes(page > 1 ? page - 1 : 1);
    },
    disabled: page === 1
  }, "<"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "page-number"
  }, "".concat(page)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    type: "button",
    onClick: function onClick() {
      return newRoutes(page + 1);
    },
    disabled: stravaRoutes.length === 0
  }, ">")), createTrail.coords && createTrail.coords.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, "File Uploaded", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_PreviewMap__WEBPACK_IMPORTED_MODULE_5__["default"], {
    route: createTrail.coords
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (UploadSection);

/***/ }),

/***/ "./resources/js/components/MyTrails/createTrail.scss":
/*!***********************************************************!*\
  !*** ./resources/js/components/MyTrails/createTrail.scss ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../node_modules/css-loader!../../../../node_modules/postcss-loader/src??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./createTrail.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/createTrail.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/components/MyTrails/previewMap.scss":
/*!**********************************************************!*\
  !*** ./resources/js/components/MyTrails/previewMap.scss ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../node_modules/css-loader!../../../../node_modules/postcss-loader/src??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./previewMap.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/previewMap.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/components/MyTrails/stravaButton.scss":
/*!************************************************************!*\
  !*** ./resources/js/components/MyTrails/stravaButton.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../node_modules/css-loader!../../../../node_modules/postcss-loader/src??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./stravaButton.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/stravaButton.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/components/MyTrails/stravaRouteList.scss":
/*!***************************************************************!*\
  !*** ./resources/js/components/MyTrails/stravaRouteList.scss ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../node_modules/css-loader!../../../../node_modules/postcss-loader/src??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./stravaRouteList.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/stravaRouteList.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/components/MyTrails/uploadSection.scss":
/*!*************************************************************!*\
  !*** ./resources/js/components/MyTrails/uploadSection.scss ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../node_modules/css-loader!../../../../node_modules/postcss-loader/src??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./uploadSection.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/MyTrails/uploadSection.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/components/common/Youtube.jsx":
/*!****************************************************!*\
  !*** ./resources/js/components/common/Youtube.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _youtube_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./youtube.scss */ "./resources/js/components/common/youtube.scss");
/* harmony import */ var _youtube_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_youtube_scss__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_youtubeVerify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/youtubeVerify */ "./resources/js/utils/youtubeVerify.js");




var Youtube = function Youtube(_ref) {
  var url = _ref.url;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "video-container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe", {
    className: "youtube-iframe",
    src: "https://www.youtube.com/embed/".concat(Object(_utils_youtubeVerify__WEBPACK_IMPORTED_MODULE_2__["youtube_id"])(url)),
    frameBorder: "0",
    allow: "accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",
    allowFullScreen: true
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Youtube);

/***/ }),

/***/ "./resources/js/components/common/form/ImageUpload.js":
/*!************************************************************!*\
  !*** ./resources/js/components/common/form/ImageUpload.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_images_uploading__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-images-uploading */ "./node_modules/react-images-uploading/dist/index.js");
/* harmony import */ var react_images_uploading__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_images_uploading__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _imageupload_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./imageupload.scss */ "./resources/js/components/common/form/imageupload.scss");
/* harmony import */ var _imageupload_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_imageupload_scss__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _translations_translator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../translations/translator */ "./resources/js/translations/translator.js");
/* harmony import */ var resize_base64__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! resize-base64 */ "./node_modules/resize-base64/index.js");
/* harmony import */ var resize_base64__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(resize_base64__WEBPACK_IMPORTED_MODULE_5__);




 // import Compress from "react-image-file-resizer";

var Compress = __webpack_require__(/*! compress.js */ "./node_modules/compress.js/index.js");

var compress = new Compress();


var ImageUpload = function ImageUpload(_ref) {
  var onImageChange = _ref.onImageChange,
      images = _ref.images;
  var maxNumber = 24;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "App"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_images_uploading__WEBPACK_IMPORTED_MODULE_2___default.a, {
    multiple: true,
    value: images,
    onChange: onImageChange,
    maxNumber: maxNumber,
    dataURLKey: "data_url"
  }, function (_ref2) {
    var imageList = _ref2.imageList,
        onImageUpload = _ref2.onImageUpload,
        onImageRemoveAll = _ref2.onImageRemoveAll,
        onImageUpdate = _ref2.onImageUpdate,
        onImageRemove = _ref2.onImageRemove,
        isDragging = _ref2.isDragging,
        dragProps = _ref2.dragProps;
    return (
      /*#__PURE__*/
      // write your building UI
      react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        className: "upload__image-wrapper"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        style: isDragging ? {
          color: "red"
        } : undefined,
        onClick: onImageUpload
      }, dragProps, {
        className: "drag-area"
      }), "".concat(Object(_translations_translator__WEBPACK_IMPORTED_MODULE_4__["__"])("Click or Drop here"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        className: "image-preview-area"
      }, imageList.map(function (image, index) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
          key: index,
          className: "image-item"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
          src: image["data_url"] || image,
          alt: "",
          width: "100"
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
          className: "image-item__btn-wrapper"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
          className: "remove-button",
          onClick: function onClick() {
            return onImageRemove(index);
          }
        }, "X")));
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
        onClick: onImageRemoveAll,
        className: "remove-images-button"
      }, "Remove all images"))
    );
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (ImageUpload);

/***/ }),

/***/ "./resources/js/components/common/form/InputStatus.jsx":
/*!*************************************************************!*\
  !*** ./resources/js/components/common/form/InputStatus.jsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _inputStatus_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inputStatus.scss */ "./resources/js/components/common/form/inputStatus.scss");
/* harmony import */ var _inputStatus_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_inputStatus_scss__WEBPACK_IMPORTED_MODULE_1__);



var InputStatus = function InputStatus(_ref) {
  var status = _ref.status;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "status-container"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "".concat(status === null ? "status-unset" : status === "error" ? "status-error" : status === "pending" ? "status-pending" : status === "success" && "status-valid")
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (InputStatus);

/***/ }),

/***/ "./resources/js/components/common/form/dropzone.js":
/*!*********************************************************!*\
  !*** ./resources/js/components/common/form/dropzone.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dropzone */ "./node_modules/react-dropzone/dist/es/index.js");




var DropBox = function DropBox(_ref) {
  var handleGpxFile = _ref.handleGpxFile;

  var prepareGpxFile = function prepareGpxFile(acceptedFiles) {
    acceptedFiles.forEach(function (file) {
      var fr = new FileReader();

      fr.onload = function (e) {
        handleGpxFile(e.target.result);
      };

      fr.readAsText(file);
    });
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_dropzone__WEBPACK_IMPORTED_MODULE_2__["default"], {
    onDrop: function onDrop(acceptedFiles) {
      return prepareGpxFile(acceptedFiles);
    }
  }, function (_ref2) {
    var getRootProps = _ref2.getRootProps,
        getInputProps = _ref2.getInputProps,
        isDragActive = _ref2.isDragActive;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      className: 'button'
    }, getRootProps()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", getInputProps()), isDragActive ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, "Drop GPX file here ...") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, "Upload a GPX file")));
  });
};

/* harmony default export */ __webpack_exports__["default"] = (DropBox);

/***/ }),

/***/ "./resources/js/components/common/form/imageupload.scss":
/*!**************************************************************!*\
  !*** ./resources/js/components/common/form/imageupload.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../../node_modules/css-loader!../../../../../node_modules/postcss-loader/src??ref--7-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./imageupload.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/common/form/imageupload.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/components/common/form/inputStatus.scss":
/*!**************************************************************!*\
  !*** ./resources/js/components/common/form/inputStatus.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../../node_modules/css-loader!../../../../../node_modules/postcss-loader/src??ref--7-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./inputStatus.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/common/form/inputStatus.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/components/common/youtube.scss":
/*!*****************************************************!*\
  !*** ./resources/js/components/common/youtube.scss ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../node_modules/css-loader!../../../../node_modules/postcss-loader/src??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./youtube.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/common/youtube.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/components/loader/index.js":
/*!*************************************************!*\
  !*** ./resources/js/components/loader/index.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _loader_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loader.scss */ "./resources/js/components/loader/loader.scss");
/* harmony import */ var _loader_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_loader_scss__WEBPACK_IMPORTED_MODULE_1__);



var Loader = function Loader() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "loadcontainer"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "bar"
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Loader);

/***/ }),

/***/ "./resources/js/components/loader/loader.scss":
/*!****************************************************!*\
  !*** ./resources/js/components/loader/loader.scss ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../node_modules/css-loader!../../../../node_modules/postcss-loader/src??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!./loader.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./resources/js/components/loader/loader.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./resources/js/utils/debounce.js":
/*!****************************************!*\
  !*** ./resources/js/utils/debounce.js ***!
  \****************************************/
/*! exports provided: debounce */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "debounce", function() { return debounce; });
var debounce = function debounce(func, wait) {
  var timeout;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var context = this;
    if (timeout) clearTimeout(timeout);
    timeout = setTimeout(function () {
      timeout = null;
      func.apply(context, args);
    }, wait);
  };
};

/***/ }),

/***/ "./resources/js/utils/setGpx.js":
/*!**************************************!*\
  !*** ./resources/js/utils/setGpx.js ***!
  \**************************************/
/*! exports provided: setGpx, useFetcher, getSlopeColor, secondsToHm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setGpx", function() { return setGpx; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useFetcher", function() { return useFetcher; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSlopeColor", function() { return getSlopeColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "secondsToHm", function() { return secondsToHm; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _mapbox_togeojson__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mapbox/togeojson */ "./node_modules/@mapbox/togeojson/togeojson.js");
/* harmony import */ var _mapbox_togeojson__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_mapbox_togeojson__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var haversine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! haversine */ "./node_modules/haversine/haversine.js");
/* harmony import */ var haversine__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(haversine__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! date-fns */ "./node_modules/date-fns/esm/index.js");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }






var setGpx = function setGpx(gpxFile) {
  console.log("set gpx");
  var gpsJson = convertGpxToJson(gpxFile);
  console.log(gpsJson);

  if (!gpsJson) {
    return false;
  } else {
    var nth = 12;
    var route = gpsJson.coords.map(function (point) {
      return {
        lat: point.lat,
        lon: point.lon,
        ele: point.elevation,
        time: point.time
      };
    }).filter(function (point, index) {
      return index % nth === nth - 1;
    });
    return _objectSpread(_objectSpread({}, gpsJson), {}, {
      route: route
    });
    console.log(gpsJson); // console.log(coords);
  }
};

var convertGpxToJson = function convertGpxToJson(routeGpx) {
  if (!routeGpx) {
    return;
  } // Convert GPX XML to GeoJSON


  var parsed = new DOMParser().parseFromString(routeGpx, "application/xml");
  var converted = Object(_mapbox_togeojson__WEBPACK_IMPORTED_MODULE_3__["gpx"])(parsed);
  console.log(converted);

  if (converted.features.length === 0) {
    return false;
  }

  var name = converted.features[0].properties.name; // Combine two arrays into one

  var route = Object(lodash__WEBPACK_IMPORTED_MODULE_4__["zipWith"])(converted.features[0].geometry.coordinates, converted.features[0].properties.coordTimes, function (a, b) {
    return {
      lon: a[0],
      lat: a[1],
      elevation: a[2],
      time: b,
      distance: 0
    };
  }); // Calculate additional information about route and each route point, for example distance and slope

  var totalTime = Object(date_fns__WEBPACK_IMPORTED_MODULE_6__["differenceInSeconds"])(new Date(route[route.length - 1].time), new Date(route[0].time));
  var totalPositiveElevation = 0;
  var totalNegativeElevation = 0;
  var totalDistance = 0;

  for (var i = 0; i < route.length - 1; i++) {
    var start = {
      latitude: route[i].lat,
      longitude: route[i].lon
    };
    var end = {
      latitude: route[i + 1].lat,
      longitude: route[i + 1].lon
    }; // Haversine formula determines distance between two points based on their coordinates

    totalDistance += haversine__WEBPACK_IMPORTED_MODULE_5___default()(start, end);
    route[i + 1].distance = totalDistance;
    var distanceChange = route[i + 1].distance - route[i].distance;
    var elevationChange = route[i + 1].elevation - route[i].elevation;

    if (elevationChange > 0) {
      totalPositiveElevation += elevationChange;
    } else {
      totalNegativeElevation += elevationChange;
    }

    route[i + 1].slope = elevationChange / (distanceChange * 1000) * 100;
  }

  return {
    coords: route,
    distance: totalDistance,
    ascent: totalPositiveElevation,
    descent: totalNegativeElevation,
    time: totalTime,
    name: name
  };
}; // Naive custom hook for fetching stuff


function useFetcher(fetchSomethingAPI, inputs) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
      data = _useState2[0],
      setData = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),
      isFetching = _useState4[0],
      setIsFetching = _useState4[1];

  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    setIsFetching(true);
    fetchSomethingAPI().then(function (response) {
      setData(response);
    })["finally"](function () {
      setIsFetching(false);
    });
  }, inputs);
  return [data, isFetching];
} // Super naive slope color generator

function getSlopeColor(slope) {
  var green = 180;
  var red = slope * 255 / 8;

  if (slope > 8) {
    green = green - (slope - 3) * 100 / 12;
  }

  return "rgba(".concat(red, ", ").concat(green, ", 0)");
}
function secondsToHm(d) {
  var h = Math.floor(d / 3600);
  var m = Math.floor(d % 3600 / 60);
  return "".concat(h, ":").concat(m);
}

/***/ }),

/***/ "./resources/js/utils/youtubeVerify.js":
/*!*********************************************!*\
  !*** ./resources/js/utils/youtubeVerify.js ***!
  \*********************************************/
/*! exports provided: youtube_id */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "youtube_id", function() { return youtube_id; });
var youtube_id = function youtube_id(fullUrl) {
  var regex = /(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|vi|e(?:mbed)?)\/|\S*?[?&]v=|\S*?[?&]vi=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
  var match = fullUrl.match(regex);

  if (match && match[1]) {
    return match[1];
  } else {
    return false;
  }
};

/***/ }),

/***/ 2:
/*!************************!*\
  !*** xmldom (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

}]);